// ==UserScript==
// @name     autofillers script
// @namespace   Low
// @version  2.5
// @updateURL https://raw.githubusercontent.com/CryingHaru/The-secretcave/main/obfuscated.users.js
// @downloadURL https://raw.githubusercontent.com/CryingHaru/The-secretcave/main/obfuscated.users.js
// @description autofiller
// @require     https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js
// @require     https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.15.5/xlsx.full.min.js
// @resource   IMPORTED_CSS https://raw.githubusercontent.com/CryingHaru/The-secretcave/main/styles.css
// @grant      GM_getResourceText
// @grant      GM_addStyle
// @author ASV
// @match https://simmow.salud.gob.sv/conrec.php*
// @match localhost
// @grant unsafeWindow
// @grant        GM_setValue
// @grant        GM_getValue
// ==/UserScript==
var I=b;(function(c,d){var H=b,e=c();while(!![]){try{var f=parseInt(H(0xa4))/0x1+-parseInt(H(0xc7))/0x2*(-parseInt(H(0xa8))/0x3)+parseInt(H(0xb1))/0x4*(parseInt(H(0x101))/0x5)+-parseInt(H(0xaf))/0x6*(-parseInt(H(0xed))/0x7)+-parseInt(H(0xf4))/0x8+-parseInt(H(0xaa))/0x9*(-parseInt(H(0xe4))/0xa)+-parseInt(H(0x109))/0xb*(parseInt(H(0xd9))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x2c55a));const my_css=GM_getResourceText(I(0xd1));GM_addStyle(my_css);let expediente=document[I(0xe2)](I(0x107));const departamento=document[I(0xe2)](I(0xcb)),municipio=document[I(0xe2)](I(0xd5));let edadaños=document[I(0xe2)](I(0xeb)),edadmeses=document[I(0xe2)](I(0xae)),edaddias=document[I(0xe2)]('input[name=\x22dias\x22]'),hombre=document[I(0xe2)](I(0x100)),mujer=document[I(0xe2)](I(0xd0)),sindefinido=document[I(0xe2)]('input[name=\x22sex\x22][value=\x223\x22]'),hoyn=document['querySelector']('input[name=\x22fecha\x22]')[I(0xd8)],numerodeexpediente,consoleoutput,selectedlink=GM_getValue('selected'),name=GM_getValue('name'),linkdatos=GM_getValue('url'),links=I(0xba),ld,tst=GM_getValue(I(0x10d));fetch(links)[I(0xd6)](c=>{var J=I;return c[J(0xc6)]();})[I(0xd6)](c=>{var K=I;ld=c,GM_setValue(K(0x10d),c),console['log'](K(0xe3)+selectedlink+K(0x10b)+tst[selectedlink][K(0xdc)]);if(linkdatos==null||linkdatos=='')consoleoutput=K(0xb5);else{consoleoutput=K(0xf9);let d,e;fetch(linkdatos)['then'](f=>{var L=K;return f[L(0xc6)]();})['then'](f=>{d=f,expediente['addEventListener']('keyup',function(g){var M=b;console[M(0xbe)]();let h=GM_getValue(M(0xe0)),i=GM_getValue(M(0x10c));numerodeexpediente=expediente[M(0xd8)];const j=d[numerodeexpediente]['S'],k=d[numerodeexpediente]['F'],l=d[numerodeexpediente]['N'];let m=l[M(0xfd)](','),n=m[0x0],o=m[0x1];hoyn=document[M(0xe2)](M(0xf7))[M(0xd8)],departamento[M(0xd8)]=h,departamento['dispatchEvent'](new Event(M(0xa9))),setTimeout(p,0x64);function p(){var N=M;municipio[N(0xd8)]=i,municipio[N(0xa7)](new Event(N(0xa9)));}var q=k[M(0xfd)]('/'),r=parseInt(q[0x0]),s=parseInt(q[0x1]),t=parseInt(q[0x2]),u=hoyn['split']('/'),v=parseInt(u[0x0]),w=parseInt(u[0x1]),x=parseInt(u[0x2]);function y(){var O=M;let A=new Date(x,w,v),B=new Date(t,s,r);const C=A[O(0xf1)]()-B[O(0xf1)](),D=Math[O(0xce)](C/0x757b12c00),E=Math[O(0xce)](C%0x757b12c00/0x9ca41900),F=Math[O(0xce)](C%0x757b12c00%0x9ca41900/0x5265c00);var G={'edad':D,'meses':E,'dias':F};return G;}let z=y();z[M(0x104)]==0x0||z['edad']==undefined?(edadaños[M(0xd8)]='0',z['meses']==0x0||z[M(0xb8)]==undefined?(edadmeses[M(0xd8)]='',edaddias[M(0xd8)]=z[M(0xa6)]):edadmeses[M(0xd8)]=z['meses']):edadaños['value']=z[M(0x104)],console[M(0xde)]('Nombre:'+l+M(0xab)+k+M(0x106)+j),console['log'](M(0xfa)+z[M(0x104)]+M(0xca)+z[M(0xb8)]+M(0xad)+z['dias']+'\x20Dias'),console[M(0xde)](M(0xea)+hoyn),j==M(0xc1)?hombre[M(0xbc)]=!![]:j==M(0xb4)?mujer[M(0xbc)]=!![]:sindefinido[M(0xbc)]=!![];});});}});var basededatosbt=document['createElement'](I(0x102));basededatosbt['className']=I(0xcc),basededatosbt[I(0xe7)]=I(0xdb),basededatosbt['onclick']=function(){var P=I,c=document['createElement'](P(0xfb));c[P(0xa5)]=P(0xd3),c[P(0xc5)]=P(0xe1),c['onchange']=function(){var Q=P,d=c[Q(0xec)][0x0],e=new FileReader();e[Q(0xa2)]=function(){var R=Q,f=XLSX[R(0xa3)](e[R(0xfe)],{'type':'binary'});f[R(0xb0)][R(0x105)](function(g){var S=R,h=f[S(0x108)][g],i=XLSX['utils']['sheet_to_json'](h),j={};i[S(0x105)](function(k){var T=S,l=k[Object['keys'](k)[0x0]];l===undefined&&(l=T(0xd4)),!j[T(0xf2)](l)&&(j[l]={}),Object['keys'](k)[T(0x105)](function(m){j[l][m]=k[m];});}),console[S(0xde)](JSON[S(0xe9)](j,null,0x4)),setTimeout(function(){var U=S,k=U(0x103)+encodeURIComponent(JSON[U(0xe9)](j,null,0x4)),l=document[U(0xbb)]('a');l[U(0xf3)]=U(0xcc),l[U(0xc2)]=U(0xe8),l[U(0xdd)]=k,l['click'](),dialogTag[U(0x10e)](l);},0xbb8);});},e['readAsBinaryString'](d);},c[P(0xac)]();};var reset=document['createElement'](I(0x102));reset['innerHTML']=I(0xc4),reset[I(0xf3)]=I(0xcc),reset[I(0xf5)]=function(){var V=I;confirm('¿Seguro\x20quieres\x20reiniciar\x20todo\x20y\x20borrar\x20datos\x20guardados?')?(GM_setValue('url',''),GM_setValue(V(0xc8),''),GM_setValue(V(0xdc),''),GM_setValue(V(0x10d),''),GM_setValue('dep',''),GM_setValue('mun',''),document[V(0xef)][V(0xb2)]()):console[V(0xde)](V(0xd7));};var guardarurl=document['createElement'](I(0x102));guardarurl['innerHTML']=I(0xe6),guardarurl['className']=I(0xcc),guardarurl[I(0xf5)]=function(){var W=I;let c=document[W(0xe2)](W(0xcd));GM_setValue(W(0xc8),'\x20'),GM_setValue(W(0xe5),c[W(0xd8)]),document['location'][W(0xb2)]();};var urlin=document[I(0xbb)](I(0xbd));urlin['innerHTML']='<label\x20for=\x22urlc\x22>Coloca\x20el\x20link\x20de\x20tu\x20base\x20de\x20datos\x20personal:</label><input\x20type=\x22text\x22\x20class=\x22inputcont\x22\x20id=\x22urlc\x22></input>',urlin[I(0xf3)]=I(0xee);var close=document[I(0xbb)]('a');close[I(0xe7)]=I(0xb3),close[I(0xf5)]=function(){var X=I;dialogTag[X(0xf3)]='scdiag';};let tstcompleto;var ppartestst,ndbss;function selects(){var Y=I;let c=Object['keys'](tst)[Y(0xc0)];for(var d=0x1;d<=c;d++){let e=tst[d];e==null||e==Y(0xd4)?(tstcompleto='\x20',selectdbs[Y(0xf8)](new Option(tstcompleto))):(tstcompleto=d-0x1+'-'+e[Y(0xdc)],selectdbs[Y(0xf8)](new Option(tstcompleto)));}}let labesdbs=document[I(0xbb)](I(0xb6));labesdbs[I(0xe7)]=I(0xfc);let labesdm=document[I(0xbb)](I(0xb6));labesdm[I(0xe7)]=I(0xbf);let selectdbs=document[I(0xbb)]('select');selectdbs[I(0xa2)]=selects(),selectdbs['id']='sdbs',selectdbs[I(0xf3)]='inputcont',selectdbs[I(0xda)]=function(){var Z=I;partestst=selectdbs['value'][Z(0xfd)]('-'),ndbss=parseInt(partestst[0x0])+0x1;};var guardardb=document['createElement']('button');function b(c,d){var e=a();return b=function(f,g){f=f-0xa1;var h=e[f];return h;},b(c,d);}guardardb[I(0xe7)]=I(0xc3),guardardb[I(0xf3)]=I(0xcc),guardardb[I(0xf5)]=function(){var a0=I;GM_setValue(a0(0xc8),ndbss),GM_setValue(a0(0xe5),tst[ndbss]['url']),document[a0(0xef)][a0(0xb2)]();};var divserlect=document['createElement']('div');divserlect[I(0xf3)]=I(0xee),divserlect['appendChild'](labesdbs),divserlect[I(0x10e)](selectdbs);var tstmunicipio=document[I(0xbb)]('select');tstmunicipio['id']=I(0xc9),tstmunicipio[I(0xf3)]=I(0xee);let seldep=document[I(0xbb)]('select');seldep['id']=I(0xff),seldep[I(0xf3)]=I(0xee),seldep['innerHTML']=I(0xf6),seldep[I(0xda)]=function(){var a1=I;let c=document['querySelector'](a1(0xd2))['value'];var d=cats[a1(0xc0)],e=0x0;for(var f=0x0;f<d;f++){c==cats1[f]&&(tstmunicipio[e++]=new Option(cats2[f],cats[f]));}};var guardardepymun=document['createElement'](I(0x102));guardardepymun['innerHTML']=I(0xb9),guardardepymun[I(0xf3)]=I(0xcc),guardardepymun['onclick']=function(){var a2=I;let c=document[a2(0xe2)]('select[id=\x22tsdepartamento\x22]'),d=document[a2(0xe2)](a2(0xb7));GM_setValue(a2(0xe0),c[a2(0xd8)]),GM_setValue(a2(0x10c),d[a2(0xd8)]);};var tstdepartamento=document['createElement'](I(0xbd));tstdepartamento[I(0xf3)]=I(0xee),tstdepartamento[I(0x10e)](labesdm),tstdepartamento['appendChild'](seldep),tstdepartamento['appendChild'](tstmunicipio);var info=document[I(0xbb)](I(0xbd));info['id']='maindiv',info[I(0xe7)]=I(0x10a),info[I(0x10e)](close),info[I(0x10e)](urlin),info[I(0x10e)](guardarurl),info[I(0x10e)](basededatosbt),info[I(0x10e)](divserlect),info['appendChild'](guardardb),info[I(0x10e)](tstdepartamento),info['appendChild'](guardardepymun),info[I(0x10e)](reset);var dialogTag=document[I(0xbb)](I(0xbd));function a(){var a4=['select[name=\x22p_dept\x22]','btcont','input[id=\x22urlc\x22][type=\x22text\x22]','floor','btmenu','input[name=\x22sex\x22][value=\x222\x22]','IMPORTED_CSS','select[id=\x22tsdepartamento\x22]','file','undefined','select[name=\x22p_muni\x22]','then','El\x20usuario\x20cancelo\x20el\x20reinicio','value','36umNFZK','onchange','Seleccionar\x20base\x20de\x20datos\x20actualizada','name','href','log','<span>Abrir\x20menú</span>','dep','.xls,.xlsx','querySelector','Usando\x20base\x20de\x20datos:','5820idfBIp','url','Guardar\x20url','innerHTML','updated.svl','stringify','La\x20fecha\x20de\x20calculo\x20de\x20edad\x20es:','input[name=\x22edad\x22]','files','7PfZQoW','inputcont','location','center','getTime','hasOwnProperty','className','425728NmRkvA','onclick','<option\x20value=\x221\x22>Ahuachapan</option><option\x20value=\x229\x22>Cabañas</option><option\x20value=\x224\x22>Chalatenango</option><option\x20value=\x2218\x22>Costa\x20Rica</option><option\x20value=\x227\x22>Cuscatlan</option><option\x20value=\x2215\x22>Guatemala</option><option\x20value=\x2216\x22>Honduras</option><option\x20value=\x225\x22>La\x20Libertad</option><option\x20value=\x228\x22>La\x20Paz</option><option\x20value=\x2214\x22>La\x20Union</option><option\x20value=\x2213\x22>Morazan</option><option\x20value=\x2217\x22>Nicaragua</option><option\x20value=\x2220\x22>Otros\x20Paises</option><option\x20value=\x2219\x22>Panamá</option><option\x20value=\x2221\x22>Salvadoreño\x20Residente\x20Exterior</option><option\x20value=\x2212\x22>San\x20Miguel</option><option\x20value=\x226\x22>San\x20Salvador</option><option\x20value=\x2210\x22>San\x20Vicente</option><option\x20value=\x222\x22>Santa\x20Ana</option><option\x20value=\x223\x22>Sonsonate</option><option\x20value=\x2211\x22>Usulutan</option>','input[name=\x22fecha\x22]','add','Base\x20de\x20datos\x20cargada','Tiene:','input','Selecciona\x20una\x20de\x20la\x20lista:','split','result','tsdepartamento','input[name=\x22sex\x22][value=\x221\x22]','390XHHAqe','button','data:application/json;charset=utf-8,','edad','forEach',',\x20sexo:','[name=\x22expe\x22]','Sheets','1784057mKTDDl','<div\x20id=\x22p-v\x22><h1>Autofillers\x20Menú</h1></div>','\x20Con\x20nombre:\x20','mun','ndb','appendChild','dialog-v','onload','read','123200dEOWWy','type','dias','dispatchEvent','2247gPmRJo','change','2295VEbvsO',',\x20Fecha\x20de\x20nacimiento:','click','\x20Meses\x20','input[name=\x22meses\x22]','135588FdOmQp','SheetNames','9192IGCeyU','reload','<img\x20id=\x22cerrar\x22src=\x22https://raw.githubusercontent.com/CryingHaru/The-secretcave/main/icons/close.svg\x22\x20alt=\x22X\x22></img>','Femenino','No\x20hay\x20ninguna\x20base\x20de\x20datos','label','select[id=\x22tsmunicipio\x22]','meses','Guardar\x20Departamento\x20y\x20Municipio','https://raw.githubusercontent.com/CryingHaru/The-secretcave/main/listds.svl','createElement','checked','div','clear','Seleccionar\x20Departamento\x20y\x20Municipio:','length','Masculino','download','Guardar','Reiniciar\x20todo','accept','json','662VxBtGK','selected','tsmunicipio','\x20Años\x20'];a=function(){return a4;};return a();}dialogTag['id']=I(0xa1),dialogTag[I(0xf3)]='scdiag',dialogTag['appendChild'](info),document['body'][I(0x10e)](dialogTag);var openDialogButton=document[I(0xbb)]('a');openDialogButton['id']=I(0xcf),openDialogButton[I(0xe7)]=I(0xdf),openDialogButton[I(0xf5)]=function(){var a3=I;dialogTag[a3(0xf3)]='openscdiag';};let pmc=document[I(0xe2)](I(0xf0));pmc[I(0x10e)](openDialogButton);
